# AI核心能力測驗系統功能規格

本文件詳細說明「ITS 人工智慧核心能力模擬試題復習系統」的功能規格。系統使用純HTML、CSS3和JavaScript實現，無需後端依賴。

## 1. 系統概述

這是一個專為準備「ITS 人工智慧核心能力」證照考試設計的Web測驗系統。系統提供靈活的測驗配置、即時答題反饋、詳細解析說明和成績統計等功能，幫助使用者有效掌握考試內容並提高應試能力。

## 2. 題庫結構

系統使用JSON格式存儲題庫數據，支援多種題型和豐富的媒體內容。

### 2.1 題目結構

每道題目包含以下屬性：

| 欄位         | 型別      | 說明                                                         |
|--------------|-----------|--------------------------------------------------------------|
| id           | number    | 題目編號（唯一值）                                           |
| type         | string    | 題型：'single'（單選）或 'multi'（複選）                     |
| question     | string    | 題目內容                                                     |
| options      | string[]  | 選項陣列                                                     |
| answer       | number[]  | 正確答案（1-based，例：[2] 代表第2個選項，複選可多個）        |
| weight       | number    | 權重，預設為1，數字越大該題被抽中的機率越高（可省略）         |
| image        | string    | 題目圖片路徑（可省略）                                       |
| explanation  | string    | 詳細說明，支援多行（\n 斷行，答題後顯示）                   |

### 2.2 題庫示例

```json
{
  "id": 1,
  "type": "single",
  "question": "【1】您需要為醫療技術人員建立一套容易解釋的導引系統。請問您應該使用哪種機器學習模型?",
  "options": [
    "決策樹",
    "支援向量機", 
    "神經網路", 
    "K-Means叢集"
  ],
  "answer": [1],
  "weight": 1,
  "image": null,
  "explanation": "● 決策樹模型：以其直觀的樹狀結構著稱，每一步決策都有清晰的路徑和條件，因此具有良好的可解釋性，適合需要向非技術人員（如醫療技術人員）解釋模型決策過程的場景。\n● 支援向量機和神經網路：通常被視為黑箱模型，解釋性較差。\n● K-Means：是無監督學習的叢集演算法，不適用於建立導引系統（通常是分類或回歸問題）。"
}
```

## 3. 系統功能

### 3.1 測驗設置功能

#### 3.1.1 題號範圍與數量選擇
- 可選擇題目範圍（從第X題到第Y題）
- 可設定測驗題數（1-200題或全部）
- 支援下拉式選單快速選擇常用題數（1、2、3、4、5、10、20、30、50、100、150、200、全部）

#### 3.1.2 答案順序設定
- 原始題庫順序：按照題庫中定義的順序顯示選項
- 隨機順序：每次測驗隨機打亂選項順序，增加測驗難度

#### 3.1.3 測驗時間設定
- 可設定測驗時間（1-999分鐘）
- 預設為60分鐘
- 時間結束自動交卷

#### 3.1.4 音效設定
- 可開啟/關閉答題反饋音效
- 答對播放成功音效
- 答錯播放錯誤音效

#### 3.1.5 權重題目預覽
- 測驗前自動顯示所有權重大於1的題目列表
- 顯示內容包括題號、權重值與題目摘要
- 按權重由大到小排序
- 僅在測驗開始前顯示

#### 3.1.6 題庫管理
- 支援下載當前題庫為JSON檔案
- 支援預覽整個題庫內容（Modal視窗顯示）

### 3.2 測驗進行功能

#### 3.2.1 題目展示
- 顯示當前題號與進度（第X/Y題、百分比）
- 顯示題目內容（文字）
- 支援顯示題目相關圖片（若有）
- 清楚標示單選/複選題型

#### 3.2.2 答題互動
- 單選題顯示標準單選按鈕（radio buttons）
- 複選題顯示複選框（checkboxes）
- 選項前有序號標示（1、2、3、4...）
- 顯示「提交答案」按鈕（綠色）

#### 3.2.3 答題反饋
- 答題後立即顯示是否正確
- 正確顯示綠色對勾與鼓勵文字
- 錯誤顯示紅色叉號與錯誤提示
- 錯誤時顯示「你的答案」與「正確答案」對比
- 顯示詳細解析說明（支援多行文字格式）

#### 3.2.4 測驗導航
- 答題後顯示「繼續下一題」按鈕（藍色）
- 顯示「立即交卷」按鈕，可隨時結束測驗
- 顯示「重新開始」按鈕，可放棄當前測驗重新設定
- 提供題號快速導航列，可隨時跳轉到指定題目
- 已答題的題號以綠色顯示，未答題以白色顯示

#### 3.2.5 測驗計時
- 顯示已用時間或剩餘時間
- 時間格式為「分:秒」（00:00）
- 剩餘時間為0時自動交卷

#### 3.2.6 循環測驗功能
- 最後一題答完後可選擇「回到第一題」繼續練習
- 不顯示最終結果，保持在測驗狀態中

### 3.3 測驗結果功能

#### 3.3.1 成績統計
- 顯示分數（正確題數/總題數）
- 顯示正確率（百分比）
- 顯示總作答時間
- 顯示圓形圖表直觀呈現正確率

#### 3.3.2 錯題複習
- 列出所有答錯的題目（紅色標示）
- 每題顯示原題目、選項、圖片（若有）
- 對比顯示「你的答案」與「正確答案」
- 顯示詳細解析說明
- 錯題區塊有明顯底色區隔

#### 3.3.3 重新測驗
- 提供「再考一次」按鈕
- 點擊後清空當前測驗狀態
- 回到測驗設置頁面重新開始

## 4. 技術實現特點

### 4.1 隨機抽題算法

- 使用權重加權隨機抽題
- 權重越高的題目被抽中機率越高
- 確保測驗中不會出現重複題目
- 使用Fisher-Yates洗牌算法實現選項隨機順序

### 4.2 UI/UX設計

- 簡潔直觀的介面設計
- 回應式網頁設計（RWD），支援不同裝置尺寸
- 動畫過渡效果（淡入淡出）
- 題號快速導航，支援直接跳題
- 顏色編碼提示（綠色正確、紅色錯誤）

### 4.3 資料管理

- 使用JSON格式存儲題庫
- 支援下載與預覽題庫
- 正確處理特殊字元和多行文字
- 支援圖片資源引用

### 4.4 代碼結構與模組化

- 使用立即執行函數表達式(IIFE)封裝代碼，避免全局污染
- 採用事件委派模式處理動態生成的DOM元素事件
- 使用Promise處理異步操作如題庫載入
- 將UI更新與業務邏輯分離，提高可維護性
- 採用防抖技術優化用戶操作響應

### 4.5 記憶體管理與效能優化

- 實現作答狀態追蹤，記錄每題最新作答情況
- 資源預加載（音效、圖片）提升使用體驗
- 圖片懶加載，提高頁面加載速度
- 使用localStorage實現頁面刷新後恢復作答狀態
- 針對大型題庫進行分批渲染，避免UI卡頓

### 4.6 錯誤處理與容錯機制

- 實現完整的錯誤捕獲與日誌記錄
- 題目載入失敗時提供友好的錯誤信息
- 針對CORS問題提供解決方案提示
- 音效播放失敗的優雅降級處理
- 實現資源加載重試機制

## 5. 檔案結構

```
index.html         # 主要HTML頁面
css/
  style.css        # 樣式定義
js/
  app.js           # 主要邏輯代码
data/
  questions.json   # 題庫數據
images/            # 題目相關圖片
  *.jpg            # 各種題目圖片
sounds/            # 音效檔案
  success.mp3      # 答對音效
  error.mp3        # 答錯音效
```

## 6. 系統限制與注意事項

- 純前端實現，無需後端伺服器
- 若直接用瀏覽器開啟本地檔案，部分瀏覽器可能因CORS限制無法載入JSON
- 建議使用VSCode Live Server或其他本地伺服器測試
- 圖片路徑相對於項目根目錄
- 音效功能需要用戶允許網頁播放聲音
- 瀏覽器兼容性：支援主流現代瀏覽器（Chrome、Firefox、Edge、Safari等）
- 題庫大小限制：建議不超過500題，以確保良好性能
- 圖片大小建議控制在500KB以內，以確保載入速度

## 7. 未來擴展可能性

- 新增用戶驗證與成績保存功能
- 增加錯題重點練習模式
- 提供題庫分類與標籤功能
- 增加統計分析與學習進度追踪
- 實現错题集自動生成與匯出
- 新增多語言支持
- 實現雲端題庫同步
- 建立學習社群與競爭排行榜
- 開發AI智能推薦學習路徑
- 實現多設備資料同步

## 8. 系統流程圖

```
用戶進入 → 設置測驗參數 → 開始測驗 → 作答題目 → 查看即時反饋 → 完成所有題目 → 查看成績統計 → 複習錯題 → 再次測驗
```

## 9. 系統開發與部署

### 9.1 開發環境需求
- 任何文本編輯器（推薦VS Code）
- 現代瀏覽器（Chrome、Firefox等）
- 本地伺服器（如VS Code Live Server擴展）

### 9.2 部署選項
- 靜態網頁主機（如GitHub Pages、Netlify、Vercel等）
- 任何支援靜態檔案的Web伺服器
- 本地部署於intranet內部網路

### 9.3 維護與擴展
- 題庫更新：直接編輯questions.json檔案
- UI調整：修改style.css
- 功能擴展：擴充app.js
